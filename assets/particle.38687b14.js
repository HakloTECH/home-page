const{PI:m,random:l,pow:g}=Math,p=t=>t<.5?4*t*t*t:1-g(-2*t+2,3)/2,f=(t,a,e,n,c)=>{const d=a-t;let u;const i={done:!1,started:!1,start:s=>{if(i.started)return null;u=s,i.started=!0},step:s=>{if(!i.started)return null;const o=(s-u)/n;if(o>1)return i.done=!0,null;c(t+d*e(o))}};return i},b=[],y=t=>{let a;const e=t.canvas,n={vStart:0,vEnd:e.height*3},c=()=>{t.beginPath();const r=t.createLinearGradient(0,n.vStart,e.width,n.vEnd);r.addColorStop(0,"black"),r.addColorStop(1/3,"rgb(10, 15, 85)"),r.addColorStop(2/3,"rgb(10, 77, 166)"),r.addColorStop(1,"rgb(232, 118, 175)"),t.fillStyle=r,t.fillRect(0,0,e.width,e.height),t.closePath()},d=4;class u{x;y;radius;color;xVel;yVel;constructor(){this.x=l()*e.width,this.y=l()*e.height,this.radius=l()*d+1,this.color=`rgba(255, 255, 255, ${(1-this.radius/d)**1.6})`;const h=this.radius*.4;this.xVel=h*l()*.5,this.yVel=h*l()*.5+.5}draw(){this.x-=this.xVel,this.y-=this.yVel,this.x<=-this.radius&&(this.x=e.width+this.radius),this.y<=-this.radius&&(this.y=e.height+this.radius),t.fillStyle=this.color,t.beginPath(),t.arc(this.x,this.y,this.radius,0,m*2),t.fill(),t.filter="none",t.closePath()}}const i=f(0,-e.height*2,p,6e3,r=>{n.vStart=r,n.vEnd=r+e.height*3}),s=e.width*e.height*36e-6|0;for(let r=s;r>0;r--)b.push(new u);const o=r=>{t.clearRect(0,0,e.width,e.height),c();for(let h=s;h--;)b[h].draw();i.started||i.start(r),i.done||i.step(r),a=requestAnimationFrame(o)};return a=requestAnimationFrame(o),{dispose:()=>{cancelAnimationFrame(a),b.length=0}}};export const painters={"2d":{init:y}};
