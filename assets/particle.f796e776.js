const{PI:m,random:o,pow:g}=Math,p=t=>t<.5?4*t*t*t:1-g(-2*t+2,3)/2,f=(t,s,r,d,u)=>{const c=s-t;let a;const n={done:!1,started:!1,start:e=>{if(n.started)return null;a=e,n.started=!0},step:e=>{if(!n.started)return null;const i=(e-a)/d;if(i>1)return n.done=!0,null;u(t+c*r(i))}};return n},b=[];let h,l;const y=t=>{let s;const r=t.canvas;h??={vStart:0,vEnd:r.height*3},l??=f(0,-r.height*2,p,6e3,e=>{h.vStart=e,h.vEnd=e+r.height*3});const d=()=>{t.beginPath();const e=t.createLinearGradient(0,h.vStart,r.width,h.vEnd);e.addColorStop(0,"black"),e.addColorStop(1/3,"rgb(10, 15, 85)"),e.addColorStop(2/3,"rgb(10, 77, 166)"),e.addColorStop(1,"rgb(232, 118, 175)"),t.fillStyle=e,t.fillRect(0,0,r.width,r.height),t.closePath()},u=4;class c{x;y;radius;color;xVel;yVel;constructor(){this.x=o()*r.width,this.y=o()*r.height,this.radius=o()*u+1,this.color=`rgba(255, 255, 255, ${(1-this.radius/u)**1.6})`;const i=this.radius*.4;this.xVel=i*o()*.5,this.yVel=i*o()*.5+.5}draw(){this.x-=this.xVel,this.y-=this.yVel,this.x<=-this.radius&&(this.x=r.width+this.radius),this.y<=-this.radius&&(this.y=r.height+this.radius),t.fillStyle=this.color,t.beginPath(),t.arc(this.x,this.y,this.radius,0,m*2),t.fill(),t.filter="none",t.closePath()}}const a=r.width*r.height*16e-6|0;for(let e=a;e>0;e--)b.push(new c);const n=e=>{t.clearRect(0,0,r.width,r.height),d();for(let i=a;i--;)b[i].draw();l.started||l.start(e),l.done||l.step(e),s=requestAnimationFrame(n)};return s=requestAnimationFrame(n),{dispose:()=>{cancelAnimationFrame(s),b.length=0}}};export const painters={"2d":{init:y}};
